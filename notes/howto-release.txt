How to release a new version of iso-codes
=========================================

Make sure you have all the latest updates and no stale files
in your working copy. The best way to achieve this is to get
a fresh checkout from the SVN server.
$ mkdir release
$ cd release
$ svn co svn+ssh://<yourname>@svn.debian.org/svn/pkg-isocodes/trunk/iso-codes

Copy the Debian/changelog contents to ChangeLog and commit
(this step will probably change in the future).
$ svn ci ChangeLog

Update the version number in configure.ac and commit.
$ svn ci configure.ac

Update all automatically generated files (configure, Makefiles, etc.)
and commit.
$ autoreconf --install --symlink
$ svn ci

Create a tag for the next release. Please respect the following
release numbering scheme:

- Major version: use this for data organisation changes (like the
  switch to XML, or incompatible changes in the XML files like the
  removal of a field)
- Level 1 minor version: use this when one of the ISO lists is updated
  or for compatible changes to the XML files, like the addition of
  a field
- Level 2 minor version: use this when only translations are updated.
  If you increment the Level 1 minor version, omit the second level
  minor version. Example: 1.2.5 -> 1.3, not 1.3.0

$ svn copy \
  svn+ssh://<yourname>@svn.debian.org/svn/pkg-isocodes/trunk \
  svn+ssh://<yourname>@svn.debian.org/svn/pkg-isocodes/tags/version_MAJOR_MINOR1_MINOR2

Create the Makefiles.
$ ./configure

Use the Makefile target "release" for creating checked tarballs.
$ make release

Use the Makefile target "sign-release" to sign the tarballs.
$ make sign-release

Upload the tarballs and your signatures to the FTP area of Alioth.
$ ALIOTH_USERNAME=<yourname> make upload

Please do not remove previous versions from the FTP area of Alioth,
because they might still be needed by some distributions.

You can now clean up.
$ cd ..
$ rm -rf release/

Inform the Translation Project about the new release. Send a mail to
<coordinator@translationproject.org> and send a CC to
<pkg-isocodes-devel@lists.alioth.debian.org>.
